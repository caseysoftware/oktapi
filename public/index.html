<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<base href="/">

	<title>OKTAPI</title>

	<!-- CSS -->
	<link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-override.css"> <!-- custom styles -->

	<!-- JQUERY -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	

	<!-- JS -->
	<script src="libs/angular/angular.min.js"></script>
	<script src="libs/angular-route/angular-route.min.js"></script>
	<script src="https://ok1static.oktacdn.com/assets/js/sdk/okta-auth-js/1.8.0/okta-auth-js.min.js" type="text/javascript"></script>

	<!-- ANGULAR CUSTOM -->
	<!-- controllers -->
	<script src="js/controllers/headerCtrl.js"></script>
	<script src="js/controllers/homeCtrl.js"></script>
	<script src="js/controllers/loginCtrl.js"></script>
	<script src="js/controllers/landingCtrl.js"></script>
	<script src="js/controllers/adminCtrl.js"></script>
	<script src="js/controllers/implicitCallbackCtrl.js"></script>
	<script src="js/controllers/inspectorCtrl.js"></script>
	
	<!-- services -->
	<script src="js/services/oktaAuthService.js"></script>
	<script src="js/services/routerService.js"></script>
	<script src="js/services/configService.js"></script>
	<script src="js/services/InspectorService.js"></script>

	<!-- routes -->
	<script src="js/appRoutes.js"></script>
	
	<!-- app definition -->
	<script src="js/app.js"></script>

</head>
<!-- <body ng-app="OKTAPI"> -->
<body>
<div class="container">
	
<!-- HEADER -->
<div ng-controller="HeaderController" id="headerController">
	<nav class="navbar navbar-inverse">
		<div class="navbar-header">
			<a class="navbar-brand" href="/" class="pull-left">OKTAPI</a> 
		</div>
		<ul class="nav navbar-nav ">
			<li ng-class="getClass('/home')"><a href="/home">Home</a></li>
			<li ng-class="getClass('/loginImplicit')" ng-if="displayFlow('implicit') && !loggedIn() "><a href="/loginImplicit">Login (implicit)</a></li>
			<li ng-class="getClass('/loginCode')" ng-if="displayFlow('authorization_code') && !loggedIn()"><a href="/loginCode">Login (code)</a></li>
			<li ng-class="getClass('/landing')" ng-if="checkSession('/landing')"><a href="/landing">Landing</a></li>
		</ul>
		<ul class="nav navbar-nav navbar-right">
			<li ng-class="getClass('/admin')" ng-if="checkSession('/admin')"><a href="/admin">Admin</a></li>
			<li ng-class=""><a href="" ng-click="logout()" ng-if="loggedIn()">Logout</a></li>
			<li><a href=""><span class="glyphicon glyphicon-info-sign" ng-click="" data-toggle="modal" data-target="#infoModal" data-keyboard="true" data-backdrop="true"></span></a></li>
		</ul>
	</nav>
</div>


<div class="modal fade" id="infoModal" role="dialog" ng-controller="InspectorController" tabindex="-1">
	<div class="modal-dialog">	
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<p class="h1">Inspectors</p>
			</div> <!-- end of modal-header -->
			<div class="modal-body">

				<div class="row"><div class="col-sm-12"><p class="h4">Token Inspector</p></div></div>
				<div class="row" ng-repeat="(key, value) in tokenInspector">
					<div class="col-sm-4">{{ key }}</div><div class="col-sm-8"><div class="jumbotron"><h6>{{ value }}</h6></div></div>
				</div>


			</div> <!-- end of modal-body -->					
			<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div> <!-- end of modal-footer -->
		</div> <!-- end of modeal-content -->
	</div> <!-- end of modal-dialog -->
</div> <!-- end of modal -->



<!-- Info Modal -->
<div class="modal fade" id="xxxxinfoModal" role="dialog" ng-controller="InspectorController" tabindex="-1">
		<div class="modal-dialog">	
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
				<!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
				<p class="h1">Inspectors</p>
				</div> <!-- end of modal-header -->
				<div class="modal-body">
					<div class="table-responsive">
						<table class="table table-condensed">
							<thead><p class="h4">Token Inspector</p></thead>
							<tbody>
								<tr ng-repeat="(key, value) in tokenInspector">
									<td><h5>{{ key }}</h5></td><td><div class="jumbotron"><h6>{{ value }}</h6></div></td>
								</tr>
							</tbody>
						</table>
						<table class="table table-condensed">
							<thead><p class="h4">Session Inspector</p></thead>
							<tbody>
								<tr ng-repeat="(key, value) in sessionInspector">
									<td><h6>{{ key }}</h6></td><td><h6><pre>{{ value | json}}</pre><</h6></td>
								</tr>
							</tbody>
						</table>	
						<table class="table table-condensed">
							<thead><p class="h4">General Inspector</p></thead>
							<tbody>
								<tr ng-repeat="(key, value) in generalInspector">
									<td><h6>{{ key }}</h6></td><td><h6><pre>{{ value }}</pre></h6></td>
								</tr>
							</tbody>
						</table>
						<table class="table table-condensed">
							<thead><p class="h4">HTTP Inspector</p></thead>
							<tbody>
								<tr ng-repeat="(key, value) in httpInspector">
									<td><h6>{{ key }}</h6></td><td><h6><pre>{{ value }}</pre></h6></td>
								</tr>
							</tbody>
						</table>																
	
					</div>	
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div> <!-- end of modal-footer -->
				</div> <!-- end of modal-body -->					
			</div> <!-- end of modeal-content -->
		</div> <!-- end of modal-dialog -->

	</div> <!-- end of modal -->

	<!-- ANGULAR DYNAMIC CONTENT -->
	<div ng-view></div>

</div>

	<!-- JQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	
	<!-- Bootstrap JS -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</body>
</html>
